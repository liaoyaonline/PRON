# 功能需求分析
根据业务逻辑分析，本系统主要完成以下功能，系统用例图如图所示

本系统权限控制采用 RBAC 思想。简单地说，一个用户拥有若干角色，每一个角色拥有若干个菜单，菜单中存在菜单权限与按钮权限， 这样，就构造成“用户-角色-菜单” 的授权模型。在这种模型中，用户与角色、角色与菜单之间构成了多对多的关系，如下图所示:
## 登录管理模块
登录管理模块主要为系统提供注册，登录，自动登录，注销等功能。本系统对于用户权限划分的指导思想来自于RBAC（Role-Based Access Control），即Who对What进行How的操作，其中Who是指权限的拥有者，What指权限针对的对象或资源，How指具体的操作，即对于不同用户显示不同菜单给予不同访问权限，这些权限可以被收回也可以新增。
登录管理模块主要为系统提供注册，登录，自动登录，注销等功能。本系统权限控制采用 RBAC 思想。简单地说，一个用户拥有若干角色，每一个角色拥有若干个菜单，菜单中存在菜单权限与按钮权限， 这样，就构造成“用户-角色-菜单” 的授权模型。在这种模型中，用户与角色、角色与菜单之间构成了多对多的关系，如下图所示


系统划分为用户管理，角色管理，
系统监控，书架管理，书单管理，推荐管理，检索管理等7个模块，系统用例图如下所示
其中登录模块主要服务于已经注册的用户，本系统目前处于试运行阶段，新用户只能由管理员注册，用户在注册时需要在用户管理模块中提交用户名，密码，电话，昵称，邮箱，性别，状态，角色等信息。注册成功后会根据管理员授予的菜单权限和访问权限在登录时查看和访问有限菜单功能。
登录模块主要针对已经注册的正式用户，当用户输入用户名和密码时，平台会对该用户名和密码进行验证，验证通过的同时会校验用户的用户的菜单权限和访问权限，给予显示相应的菜单。登录模块用例如图所示
## 系统监控模块
系统监控模块主要服务于管理员有在线用户，操作日志两个功能，主要记录哪些用户登录了，登录ｓｄｆｋｓｌｆ
## 书架管理模块
用户可以将喜爱的小说加入书架，该小说的被收藏数会做为个性化推荐的一个维度做为参考，书架管理模块主要服务于此，书架管理功能包括新建书架，修改书架，删除书架等功能，以及对于书架中小说的管理，比如将将小说从书架中删除，将小说更换书架等。其用例图如下所示。
## 书单管理模块
用户可以对小说进行评论，评分并加入书单，书单可以被检索到，该小说的被评分，评分人数，被加入书单数会做为个性化推荐的维度做为参考，书单管理功能包括新建书单，修改小说，删除书单等功能，以及对于书单中小说的管理，比如将小说从书单中删除，修改书单中某本小说的评分评论，将小说更换书单等。其用例图如下所示。
## 推荐管理模块
推荐模块也就是本系统的核心模块，通过读取读者书架和书单上对小说的评分，小说本身的收藏数，评分人数，评分，加入书单数等特征使用随机森林算法进行建模，对读者进行推荐。其用例图如下所示。
## 检索管理模块
检索小说或者检索书单，其用例图如下所示。
.....................
登录验证功能。
本系统处于试运行阶段，当前所有的普通用户都是由管理员手动注册，事先填写好用户名密码，以及授予菜单权限，用户在进行登录时输入账号，密码进行登录，访问允许访问菜单。
书架管理功能
书架管理包括新增书架，修改书架等，其中新增书架即创建新的书架，需要填写书架名，书架介绍，书架标签等信息。修改书架，除了修改书架本身的名字，介绍和标签外还包括将小说加入书架，将小说移出书架，将小说从一个书架移动到另一个书架，删除书架等。
和书架不同，书单可以被其他用户检索到，也会出现在小说详情页，需要对该小说进行评分和评论，该小说的被书单收录数目会做为小说个性化推荐的一个维度进行分析，书单管理包括新增书单，修改书单等，其中新增书单即创建新的书单，需要填写书单名，书单介绍，书单标签等信息，修改书单，除了可以修改书单本身的名字，介绍和标签外，还可以对书单内小说的评分和评论进行修改，将小说加入书单，将小说移出书单，删除书单等。
个性化推荐功能
个性化推荐功能是本系统的核心功能，通过读取读者书架和书单上对小说的评分，小说本身的收藏数，评分人数，评分，加入书单数等特征使用随机森林算法进行建模，对读者进行推荐。
检索功能包括检索小说和书单，检索小说和书单时可以输入全名进行精确查询，也可以输入部分名字进行模糊查询。
个人信息管理功能
包括修改个人信息和安全设置，修改个人信息可以修改昵称，手机号码，用户邮箱等信息，安全设置可以修改密码。
对于管理员的功能需求如下
用户管理
用户管理功能包括新增，修改，导出功能，新增用户需要填写用户名，电话，昵称，邮箱，密码，性别，角色等信息，当前角色只有读者和管理员两种角色，修改功能可以对上述信息进行修改，也可以删除用户，导出即将用户信息导出为一张xls表，里面保存所有用户的所有信息。
角色管理
当前本系统只有两种角色，读者和管理员，角色管理包括新增角色，修改角色，其中新增角色需要填写角色名称，角色级别，数据范围等信息来定义该角色的访问权限。
修改角色，可以修改上述信息。
系统监控
系统监控功能包括在线用户，操作日志功能，在线用户能够显示当前登录系统的用户名，IP地址，登录时间，请求耗时等信息。操作日志，会显示更细节的一些信息，比如该用户的请求方法和请求参数。
个性化推荐管理
个性化推荐管理，包括修改个性化推荐的一些参数进行微调，包括树的数目和特征数目，导出随机森林所有决策树的可视化图形。
书籍管理
包括将新的书加入数据库，删除数据库中的某本小说，将某本小说加入黑名单等功能。